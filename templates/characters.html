{% extends "base.html" %}
{% block title %} DnD-WBM {% endblock %}
{% block body %}

<div class="main-content">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/characters.css') }}">
    <form action="{{ url_for('logout') }}" method="GET">
        <button type="submit" class="btn-red">Logout</button>
    </form>
    <form action="{{ url_for('delete_account') }}" method="POST">
        <button type="submit" class="btn-red">Delete account</button>
    </form>
    <div class="character-list">
        <h1>Character List</h1>
        {% for character in data %}
        <div class="pc">
            <ul>
                {% for key, value in character.items() %}
                <li><span class="key">{{ key }}:</span> <span class="value">{{ value }}</span></li>
                {% endfor %}
            </ul>
        </div>
        {% endfor %}
    </div>
    <div class="character-actions">
        <form method="GET" action="{{ url_for('createCharacter') }}">
            <button type="submit" class="btn-red">Create character</button>
        </form>
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          <ul class="flashes">
          {% for category, message in messages %}
            <li class="{{ category }}">{{ message }}</li>
          {% endfor %}
          </ul>
        {% endif %}
      {% endwith %}
      <form method="POST" action="{{ url_for('delete_character') }}">
        <label for="character_name">Select Character to Delete:</label><br>
        <select name="character_id" id="character_id" class="btn-red">
            {% for character in data %}
                 <option value="{{ character.id }}">{{ character.character_name}}</option>
            {% endfor %}
        </select>
        <button type="submit" class="btn btn-red">Delete Character</button>
    </form>
    
    </div>
</div>
{% endblock %}
